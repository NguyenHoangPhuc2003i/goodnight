<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Phuc sieu dethuong‚ù§Ô∏è‚ú®</title>
  <style>
    body {
      margin:0; height:100vh; overflow:hidden;
      background: radial-gradient(1000px at 50% 20%, #131a2a, #0b0f1a);
      font-family: system-ui,Segoe UI,Roboto,Arial; color:#fff;
    }
    .wrap{position:relative;height:100%;display:grid;place-items:center}
    .typing{font-size:clamp(28px,6vw,56px);text-align:center;
      white-space:nowrap;overflow:hidden;border-right:3px solid #fff;
      width:0;text-shadow:0 0 12px #ff4d8d,0 0 30px #ff4d8d}
    @keyframes typing{from{width:0}to{width:100%}}
    @keyframes caret{50%{border-color:transparent}}

    .heart{position:fixed;width:22px;height:22px;transform:rotate(45deg);
      background:#ff2e63;filter:drop-shadow(0 0 8px #ff2e63aa)}
    .heart:before,.heart:after{content:"";position:absolute;width:22px;height:22px;border-radius:50%;
      background:inherit;left:-11px;top:0}
    .heart:after{left:0;top:-11px}
    .trail{position:fixed;width:120px;height:2px;
      background:linear-gradient(90deg,#0000,#ff2e63aa,#0000);opacity:.7}

    #unmute{position:fixed;left:50%;bottom:22px;transform:translateX(-50%);
      padding:12px 18px;border:0;border-radius:999px;background:#ffffff14;color:#fff;
      font-weight:700;backdrop-filter:blur(8px);box-shadow:0 10px 30px #0007;cursor:pointer}
    #unmute.hide{display:none}

    /* ƒê·∫øm ng∆∞·ª£c */
    #countdown{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
      font-size:80px;font-weight:bold;background:#000d;z-index:9999;animation:fadeout 1s linear 3s forwards}
    @keyframes fadeout{to{opacity:0;visibility:hidden}}
  </style>
</head>
<body>
  <div id="countdown">3</div>
  <div class="wrap">
    <div id="title" class="typing"></div>
  </div>

  <button id="unmute">üîä Ch·∫°m ƒë·ªÉ b·∫≠t nh·∫°c</button>
  <div id="yt-holder" style="width:0;height:0;overflow:hidden;"></div>

  <script>
    const MESSAGE = "Ch√∫c em b√© ng·ªß ngon, m∆° ƒë·∫πp nhaaa üíñ";   // üëâ s·ª≠a ·ªü ƒë√¢y ƒë·ªÉ ƒë·ªïi n·ªôi dung m·∫∑c ƒë·ªãnh
    const YT_ID   = "Bgm9Px7m5Qk";        // üëâ ƒë·ªïi ID video YouTube n·∫øu mu·ªën

    // Countdown logic
    let c = 3;
    const cd = document.getElementById("countdown");
    const interval = setInterval(()=>{
      c--; cd.textContent=c;
      if(c===0){ clearInterval(interval); cd.textContent="1"; }
      if(c<1){ cd.remove(); startShow(); }
    },1000);

    function startShow(){
      // typing effect
      const t = document.getElementById("title");
      t.textContent = MESSAGE;
      t.classList.add("typing");
      t.style.animation = "typing 4s steps(40,end) forwards, caret .8s step-end infinite";

      // start hearts
      let left = true;
      setInterval(()=>{ shootHeart(left); left=!left; },260);

      // init youtube
      loadYouTube();
    }

    // Heart shooting
    function shootHeart(fromLeft){
      const startX = fromLeft?-20:innerWidth+20;
      const startY = innerHeight+20;
      const endX   = fromLeft? innerWidth*0.8 : innerWidth*0.2;
      const endY   = innerHeight*0.15+Math.random()*100;
      const angle = Math.atan2(endY-startY,endX-startX);
      const dist  = Math.hypot(endX-startX,endY-startY);
      const dur=1200+Math.random()*800;

      const trail=document.createElement('div');
      trail.className="trail"; trail.style.left=(fromLeft?startX:endX)+"px";
      trail.style.top=(fromLeft?startY:endY)+"px";
      trail.style.transform=`rotate(${angle*180/Math.PI}deg)`;
      document.body.appendChild(trail);

      const heart=document.createElement('div'); heart.className="heart";
      document.body.appendChild(heart);

      const t0=performance.now();
      function anim(t){
        const p=Math.min(1,(t-t0)/dur);
        const x=startX+(endX-startX)*p, y=startY+(endY-startY)*p;
        heart.style.transform=`translate(${x}px,${y}px) rotate(45deg) scale(${1+p*0.2})`;
        trail.style.width=80+p*140+"px"; trail.style.opacity=(1-p)*0.9;
        if(p<1) requestAnimationFrame(anim); else{heart.remove();trail.remove();}
      }
      requestAnimationFrame(anim);
    }

    // YouTube embed
    function loadYouTube(){
      const tag=document.createElement('script');
      tag.src="https://www.youtube.com/iframe_api"; document.head.appendChild(tag);
    }
    let player;
    window.onYouTubeIframeAPIReady=function(){
      player=new YT.Player('yt-holder',{height:'0',width:'0',videoId:YT_ID,
        playerVars:{autoplay:1,controls:0,loop:1,playlist:YT_ID,playsinline:1,origin:location.origin},
        events:{'onReady':(e)=>{e.target.mute(); e.target.playVideo();}}
      });
    };
    document.getElementById('unmute').addEventListener('click',()=>{
      if(player){player.unMute();player.setVolume(100);}
      document.getElementById('unmute').classList.add('hide');
    });
  </script>
</body>
</html>
